<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/projet.css" />
    <link rel="stylesheet" href="styles/Variable.css" />
    <link rel="icon" href="./img/favicon.svg" type="image/svg" />

    <title>Portfolio de Luca | Projet</title>
  </head>
  <body>
    <div class="container-parent">
      <div class="centre">
        <a href="./Home.html" class="navbar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="16"
            fill="none"
            viewBox="0 0 22 16"
          >
            <path
              fill="#fff"
              d="M21 7a1 1 0 1 1 0 2V7ZM.293 8.707a1 1 0 0 1 0-1.414L6.657.929A1 1 0 0 1 8.07 2.343L2.414 8l5.657 5.657a1 1 0 1 1-1.414 1.414L.293 8.707ZM21 9H1V7h20v2Z"
            />
          </svg>
          <div class="texte">Retour</div>
        </a>
      </div>
      <div class="grid-container">
        <a href="./projets/bdd.html" class="grid-item">
          <div class="img-grid">
            <img src="./img/projet/bdd.png" class="img-grid2" />
          </div>

          <div class="svg-language">
            <img class="svg-langue" src="img/competences/MySQL.svg" alt="" />
          </div>
          <div class="text">Projet Base de donn√©es</div>
        </a>
        <a href="./projets/Jeu-de-conway.html" class="grid-item">
          <div class="img-grid">
            <div id="game-container"></div>
          </div>
          <div class="svg-language">
            <img class="svg-langue" src="img/competences/C++.svg" alt="" />
            <img class="svg-langue" src="img/competences/C.svg" alt="" />
          </div>
          <div class="text">Projet Jeu de la Vie</div>
        </a>
        <a href="./projets/New-life.html" class="grid-item">
          <img src="./img/projet/New-life.svg" class="img-grid" />
          <div class="svg-language">
            <img class="svg-langue" src="img/competences/React.svg" alt="" />
            <img class="svg-langue" src="img/competences/CSS.svg" alt="" />
          </div>
          <div class="text">
            Projet New-life <br />
          </div>
        </a>
        <a href="./projets/Escape-no-game.html" class="grid-item">
          <div class="img-grid">
            <img src="./img/projet/signal.png" class="img-grid2" />
          </div>

          <div class="svg-language">
            <img class="svg-langue" src="img/competences/python.svg" alt="" />
          </div>
          <div class="text">Projet Escape no Game</div>
        </a>
        <a href="./projets/strongbox.html" class="grid-item">
          <div class="img-grid">
            <img src="./img/projet/coffre.png" class="img-grid2" />
          </div>

          <div class="svg-language">
            <img class="svg-langue" src="img/competences/C++.svg" alt="" />
            <img class="svg-langue" src="img/competences/Arduino.svg" alt="" />
          </div>
          <div class="text">Projet Strongbox 3000</div>
        </a>
        <div class="grid-item">
          <div class="img-grid">
            <img src="./img/projet/formation-tel-tab.png" class="img-grid2" />
          </div>
          <div class="svg-language">
            <img
              class="svg-langue"
              src="img/competences/javascript.svg"
              alt=""
            />
            <img class="svg-langue" src="img/competences/HTML.svg" alt="" />
            <img class="svg-langue" src="img/competences/CSS.svg" alt="" />
          </div>
          <div class="text">
            Projet site Formation <br /><span style="color: red">En cours</span>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const rows = 13; // Nombre de lignes
    const cols = 13; // Nombre de colonnes
    const speed = 1000; // Vitesse en millisecondes

    const container = document.getElementById("game-container");
    let grid = createGrid(rows, cols);
    let nextGrid = createGrid(rows, cols);

    // Grille initiale (1 pour cellule vivante, 0 pour cellule morte)
    const initialGrid = [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0],
      [0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
      [0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
      [0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ];

    function createGrid(rows, cols) {
      return Array.from({ length: rows }, () => Array(cols).fill(0));
    }

    function createHtmlGrid() {
      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          const cell = document.createElement("div");
          cell.classList.add("cell");
          container.appendChild(cell);
        }
      }
    }

    function updateHtmlGrid() {
      const cells = document.querySelectorAll(".cell");
      let index = 0;
      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          cells[index].classList.toggle("alive", grid[i][j] === 1);
          index++;
        }
      }
    }

    function initializeGrid() {
      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          grid[i][j] = initialGrid[i][j] || 0; // Copier initialGrid dans grid
        }
      }
    }

    function getNeighborCount(grid, x, y) {
      const directions = [
        [-1, -1],
        [-1, 0],
        [-1, 1],
        [0, -1],
        [0, 1],
        [1, -1],
        [1, 0],
        [1, 1],
      ];
      return directions.reduce((count, [dx, dy]) => {
        const newX = x + dx;
        const newY = y + dy;
        if (newX >= 0 && newX < rows && newY >= 0 && newY < cols) {
          count += grid[newX][newY];
        }
        return count;
      }, 0);
    }

    function computeNextGeneration() {
      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          const neighbors = getNeighborCount(grid, i, j);
          if (grid[i][j] === 1) {
            nextGrid[i][j] = neighbors === 2 || neighbors === 3 ? 1 : 0;
          } else {
            nextGrid[i][j] = neighbors === 3 ? 1 : 0;
          }
        }
      }

      // Copier nextGrid dans grid
      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          grid[i][j] = nextGrid[i][j];
        }
      }
    }

    function gameLoop() {
      computeNextGeneration();
      updateHtmlGrid();
      setTimeout(gameLoop, speed);
    }

    // Initialisation
    createHtmlGrid();
    initializeGrid(); // Charger la grille initiale
    updateHtmlGrid();
    gameLoop();
  </script>
</html>
