<!DOCTYPE html>
<html>
  <head>
    <title>Contact</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        // https://dashboard.emailjs.com/admin/account
        emailjs.init({
          publicKey: "63kWHzJ-2bYzAhyl2", // Remplace par ton publicKey EmailJS
        });
      })();
    </script>
    <script type="text/javascript">
      window.onload = function () {
        document
          .getElementById("contact-form")
          .addEventListener("submit", function (event) {
            event.preventDefault(); // Empêche le rechargement de la page

            const form = this;
            const userName = form.user_name.value.trim();
            const userEmail = form.user_email.value.trim();
            const message = form.message.value.trim();

            // Vérifie si tous les champs sont remplis
            if (!userName || !userEmail || !message) {
              alert("Veuillez remplir tous les champs avant d'envoyer.");
              return; // Ne pas envoyer si des champs sont manquants
            }

            // Envoi du formulaire via EmailJS
            emailjs.sendForm("service_bccll5k", "template_ebafklb", form).then(
              () => {
                console.log("SUCCESS!");
                alert("Message envoyé avec succès !");

                // Réinitialise les champs du formulaire
                form.reset();
              },
              (error) => {
                console.log("FAILED...", error);
                alert("Erreur lors de l'envoi. Veuillez réessayer.");
              }
            );
          });
      };
    </script>
    <link rel="stylesheet" href="styles/Contact.css" />
    <link rel="stylesheet" href="styles/Variable.css" />
  </head>
  <body>
    <div class="container-parent">
      <div class="centre2">
        <a href="./Home.html" class="navbar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="16"
            fill="none"
            viewBox="0 0 22 16"
          >
            <path
              fill="#fff"
              d="M21 7a1 1 0 1 1 0 2V7ZM.293 8.707a1 1 0 0 1 0-1.414L6.657.929A1 1 0 0 1 8.07 2.343L2.414 8l5.657 5.657a1 1 0 1 1-1.414 1.414L.293 8.707ZM21 9H1V7h20v2Z"
            />
          </svg>
          <div class="texte">Retour</div>
        </a>
      </div>
      <div class="container2">
        <div class="container1">
          <a class="grow" href="https://github.com/Lucacist">
            <img class="img-lien" src="./img/competences/github.svg" alt="" />
          </a>
          <a
            class="grow"
            href="https://www.linkedin.com/in/luca-fourfooz-593978336/"
          >
            <img class="img-lien" src="./img/contact/linkedin.svg" alt="" />
          </a>
          <a
            class="grow"
            href="https://www.instagram.com/luca.ffz?igsh=eW1pZ3A2eDdlZWJ2&utm_source=qr"
          >
            <img class="img-lien" src="./img/contact/Insta.svg" alt="" />
          </a>
          <div class="svg-contain grow">
            <img class="img-lien" src="./img/contact/mail-cesi.svg" alt="" />
            <span class="mail-texte">Luca.fourfooz@viacesi.fr</span>
          </div>
        </div>
        <div class="contact-etpp">
          <form id="contact-form">
            <input type="hidden" name="contact_number" value="697483" />
            <label>Name</label>
            <input
              type="text"
              name="user_name"
              placeholder="Entrez votre nom"
            />
            <label>Email</label>
            <input
              type="email"
              name="user_email"
              placeholder="Entrez votre email"
            />
            <label>Message</label>
            <textarea
              name="message"
              placeholder="Écrivez votre message"
            ></textarea>
            <div class="centre">
              <input type="submit" value="Send" class="send-button" />
            </div>
          </form>
          <div class="pp">
            <img class="img-pp" src="./img/contact/pp.png" alt="" />
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
